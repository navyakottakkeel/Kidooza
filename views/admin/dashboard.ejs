


 <%-include("../../views/partials/admin/main") %>


   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

   <div class="container py-4">
     <h2 class="mb-4">ðŸ“Š Admin Dashboard</h2>
 
     <!-- Filter -->
     <form action="dashboard" method="GET" class="mb-4 d-flex gap-2">
       <select name="filter" class="form-select w-auto">
       </select>
       <button class="btn btn-primary">Apply</button>
     </form>
 
     <!-- Chart -->
     <div class="card shadow-sm mb-4">
       <div class="card-body">
         <h5>Sales Chart (<%= filter %>)</h5>
         <canvas id="salesChart"></canvas>
       </div>
     </div>
 
     <!-- Top Products -->
     <div class="card shadow-sm mb-4">
       <div class="card-body">
         <h5>Top 10 Products</h5>
         <ul>
           <% topProducts.forEach(p => { %>
             <li><%= p.name %> - <%= p.totalQuantity %> sold</li>
           <% }) %>
         </ul>
       </div>
     </div>
 
     <!-- Top Categories -->
     <div class="card shadow-sm mb-4">
       <div class="card-body">
         <h5>Top 10 Categories</h5>
         <ul>
           <% topCategories.forEach(c => { %>
             <li><%= c.name %> - <%= c.totalSold %> sold</li>
           <% }) %>
         </ul>
       </div>
     </div>
 
     <!-- Top Brands -->
     <div class="card shadow-sm mb-4">
       <div class="card-body">
         <h5>Top 10 Brands</h5>
         <ul>
           <% topBrands.forEach(b => { %>
             <li><%= b.brand %> - <%= b.totalSold %> sold</li>
           <% }) %>
         </ul>
       </div>
     </div>
 
   </div>
 
   <script>
     const ctx = document.getElementById('salesChart');
     new Chart(ctx, {
       type: 'bar',
       data: {
         labels: <%- JSON.stringify(labels) %>,
         datasets: [{
           label: 'Total Sales',
           data: <%- JSON.stringify(totals) %>,
           borderWidth: 1,
           backgroundColor: '#007bff'
         }]
       },
       options: { responsive: true }
     });
   </script>
